# 更新日志

本文档记录 Git Assistant 的所有重要变更。

---

## [1.0.1] - 2025-12-03

> ♻️ **文档与配置同步**，确保 v1.0.1 版本的信息、目录结构与 VSIX 包一致。

### 更新 ✅
- README / README_CN / PROJECT_OVERVIEW / PROJECT_DETAILS / QUICK_REFERENCE / docs/* 文档同步最新项目结构、依赖与数据流
- 新增并强调 `git-assistant.defaultRemote` 配置，快速推送/拉取可记忆默认远程仓库


## [1.0.0] - 2025-11-26

> 🎉 **初代正式版发布！** 包含完整的 Git 可视化管理能力，涵盖分支/远程/标签/冲突/历史等核心场景。

### 新增功能 ✨

#### Git 基础操作
- 快速推送 (Push) - `Ctrl+Alt+P`，支持推送前确认
- 快速拉取 (Pull) - `Ctrl+Alt+L`，支持自动 stash
- 克隆仓库 (Clone) - 可视化引导选择目录
- 添加文件到暂存区 - 一键全部或多选文件
- 提交更改 - 输入校验与进度提示
- 操作前安全检查（未保存文件、未提交改动、冲突检测）
- 操作进度显示与错误回滚

#### 仓库初始化向导
- 一站式执行 `git init → git remote add → git add . → git commit → git push`
- 适合空目录快速搭建远程仓库

#### 分支管理
- 分支树视图（本地/远程分组）
- 创建分支（含命名校验）
- 快速切换分支 - `Ctrl+Alt+B`
- 合并分支（快进/三路合并策略可选）
- 删除分支（命令行方式，UI 中已简化）
- 分支状态标记与追踪关系
- 切换前自动 stash

#### 远程仓库管理
- 远程列表展示（fetch/push 地址）
- 添加/重命名/更新 URL/删除远程
- 控制面板内即可完成所有操作

#### 标签管理
- 创建带注释/轻量标签
- 指定提交打标签
- 推送单个/全部标签
- 强制覆盖远程标签
- 删除本地/远程标签
- 批量解析（`git for-each-ref`）提升加载速度

#### 提交历史可视化
- **2D 提交图谱**：
  - D3.js 力导向图布局
  - 高 DPI 支持，字体清晰锐利
  - 自动换行、颜色增强、节点高光
  - 支持拖拽和缩放
- **热力图分析**：
  - 文件修改频率统计
  - 贡献者活跃度分析
  - 浅色/深色主题自适应
- **分支视图**：
  - 可视化分支合并路径
  - 箭头表示合并方向
  - 高亮当前分支
- **时间线视图**：
  - 日历热力图（#0e639c 统一配色）
  - 柱状图展示每日提交
  - 支持年月切换
  - 浅色/深色主题自适应
- **历史浏览**：
  - 提交列表视图
  - 提交详情面板
  - 相对时间显示

#### 冲突检测与解决
- 实时冲突检测（TreeDataProvider + 文件监听）
- 冲突文件列表与数量统计
- 三栏对比编辑器（当前/传入/结果）
- 三种解决方案：接受当前、接受传入、接受全部
- 手动编辑支持、撤销/重做

#### 可视化控制面板
- **10 个功能标签页**（固定顺序，按钮宽度 120px）：
  1. 📋 快捷指令 - 命令历史、复制/重试、清空
  2. 📚 Git 指令集 - 常用命令学习卡片
  3. 🌿 分支管理 - 分支树、创建/切换/合并
  4. ☁️ 远程仓库 - 添加/重命名/更新/删除
  5. 🏷️ 标签管理 - 创建/推送/删除标签
  6. 🌳 分支视图 - 分支关系可视化
  7. ⚠️ 冲突解决 - 冲突列表与三栏对比
  8. 📊 提交图谱 - 高 DPI 2D 图谱
  9. 📅 时间线 - 日历热力图 + 柱状图
  10. 🔥 热力图 - 文件/贡献者统计
- 实时数据刷新
- 状态栏入口

#### 配置选项
- `git-assistant.autoFetch` - 自动获取远程分支更新
- `git-assistant.confirmPush` - 推送前确认
- `git-assistant.maxHistoryCount` - 历史记录数量
- `git-assistant.conflictHighlight` - 冲突高亮

### 性能优化 🚀

- **Promise.allSettled 并行刷新**：状态/分支/日志/远程/标签同时抓取，基础面板 < 400ms
- **标签批量解析**：`git for-each-ref` 一次取回全部元数据，Tag Manager 加载提速 3-5 倍
- **前端快速回执**：Webview 先推送基础数据、再推送统计信息，避免长时间空白
- **容错与降级**：单个 Git 命令失败不阻塞面板刷新，自动 fallback 至默认数据
- **文件监听优化**：只观察 `.git/HEAD` 与 `refs/heads/**`，配合 300ms 防抖

### 技术架构

- **前端技术栈**：
  - TypeScript + React 18
  - D3.js 数据可视化
  - Three.js + React Three Fiber（实验性 3D 图谱）
  - CSS 复用 VS Code 主题变量
- **后端技术栈**：
  - simple-git 封装 Git 操作
  - VS Code Extension API
  - Webpack 5 模块打包
  - 完整的 TypeScript 类型定义

### 已知问题 🐛

- 大型仓库（> 10k 提交）历史加载较慢
- 复杂冲突的自动解决可能不准确
- 部分 Git 操作在网络不稳定时可能超时

### 文档 📝

- README.md - 项目介绍
- README_CN.md - 中文详细文档
- QUICK_REFERENCE.md - 功能速查表
- PROJECT_OVERVIEW.md - 架构概览
- GETTING_STARTED.md - 快速上手
- CHANGELOG.md - 更新日志
- CONTRIBUTING.md - 贡献指南
- docs/DEVELOPMENT.md - 开发文档
- docs/QUICKSTART.md - 5 分钟入门
- docs/TESTING.md - 测试指南

---

## 版本说明

### 版本号规则
遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范：
- 主版本号：不兼容的 API 修改
- 次版本号：向下兼容的功能性新增
- 修订号：向下兼容的问题修正

### 变更类型
- `新增` - 新功能
- `修改` - 现有功能的变更
- `弃用` - 即将移除的功能
- `移除` - 已移除的功能
- `修复` - 问题修复
- `安全` - 安全相关的修复

### 日期格式
采用 ISO 8601 格式：YYYY-MM-DD

---

更多信息请访问：[GitHub Releases](https://github.com/YIXUAN-oss/CodeGitAssistant/releases)
